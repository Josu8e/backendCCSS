<div class="row" #page>
  <div class="col-12 col-md-12">
    <nb-card>
      <nb-card-header>
        <div class="col">
          <h2>Reporte por puesto</h2>
        </div>


        <button class="float-right btn btn-success"  title="Imprimir reporte" (click)="downloadPdf()">
          <i class="fas fa-print"></i>
        </button>

      </nb-card-header>



      <nb-card-body>

        <toaster-container [toasterconfig]="config"></toaster-container>

        <div class="col-12 col-md-12">
            <nb-card-header>Funcionarios que han ocupado el puesto <br></nb-card-header>

            <ngb-accordion  #acc="ngbAccordion" *ngFor="let func of listaFuncionariosPorPuesto | paginate: { itemsPerPage: 6, currentPage: p }"
                            [closeOthers]="true"  >

              <ngb-panel title={{func.NombreFuncionario}}   id={{func.cedulaFuncionario}}>
                <ng-template ngbPanelContent>

          <nb-card-body *ngFor="let info of listaFuncionariosPorPuesto">
            <nb-card-body *ngIf="info.cedulaFuncionario == func.cedulaFuncionario">
              <td>
                Cedula Funcionario: <b>{{info.cedulaFuncionario}} </b>
              </td>

              <td>
                Cantidad de días en el puesto: <b>{{info.cantidadDeDiasEnPuesto}} </b>
              </td>

              <td>
                Cantidad de días en la institución: <b>{{info.cantidadDeDiasEnInstitucion}} </b>
              </td>

              <td>
                <div class="btn-group" routerLink="/ser/reportePersona/mostrarReporteCompleto/{{info.cedulaFuncionario}}">
                  <button class="btn btn-primary" >
                    <i class="fas fa-eye 2x"></i>
                  </button>
                </div>
              </td>


            </nb-card-body>
          </nb-card-body>



          </ng-template>
          </ngb-panel>
          </ngb-accordion>


        </div>
      </nb-card-body>
      <nb-card-footer>
        <pagination-controls class="my-pagination pagination justify-content-center" maxSize="9" (pageChange)="p = $event" autoHide="true"
                             previousLabel="Anterior" nextLabel="Siguiente"></pagination-controls>
      </nb-card-footer>
    </nb-card>
  </div>
</div>

